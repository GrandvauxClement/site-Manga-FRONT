<!--Navbar-->
<mdb-navbar SideClass="navbar navbar-expand-lg navbar-dark indigo fixed-top">

  <!-- Navbar brand -->
  <mdb-navbar-brand><a class="navbar-brand" [routerLink]="['/home']">Mangaclypédie</a></mdb-navbar-brand>

  <!-- Collapsible content -->
  <links>

    <!-- Links -->
    <ul class="navbar-nav mr-auto">
      <li class="nav-item" [ngClass]="{'active': selectedItem === 0}" (click)="selectedItem = 0">
        <a class="nav-link waves-light" mdbWavesEffect [routerLink]="['/home']">Accueil</a>
      </li>
      <li class="nav-item" [ngClass]="{'active': selectedItem === 1}" (click)="selectedItem = 1">
        <a class="nav-link waves-light" mdbWavesEffect [routerLink]="['/home']"> Manga </a>
      </li>
      <li class="nav-item" (click)="openDialog(); selectedItem = 2" *ngIf="!user" [ngClass]="{'active': selectedItem === 2}">
        <a class="nav-link waves-light" mdbWavesEffect> Connexion</a>
      </li>

      <!-- Dropdown -->
      <li class="nav-item dropdown" dropdown *ngIf="user" [ngClass]="{'active': selectedItem === 2}" (click)="selectedItem = 2">
        <a dropdownToggle mdbWavesEffect type="button" class="nav-link dropdown-toggle waves-light">
          Mon Compte<span class="caret"></span></a>
        <div *dropdownMenu class="dropdown-menu dropdown dropdown-primary" role="menu">
          <a class="dropdown-item waves-light" mdbWavesEffect href="#" [routerLink]="['/monProfil']" >Mon Profil</a>
          <a class="dropdown-item waves-light" mdbWavesEffect href="#" [routerLink]="['/maBibiliotheque']">Ma Bibliothèque</a>
          <a class="dropdown-item waves-light" mdbWavesEffect href="#">Mes favoris</a>
          <div class="divider dropdown-divider"></div>
          <a class="dropdown-item waves-light" mdbWavesEffect (click)="logout()" >Déconnexion</a>
        </div>
      </li>

    </ul>
    <!-- Links -->

    <!-- Search form -->
    <form class="d-flex flex-column mr-5" [formGroup]="formSearch">
      <!-- <div class="md-form my-0">
           <input class="form-control mr-sm-2" type="text" placeholder="Search">
         </div>-->
        <mat-form-field class="search-form-field" appearance="outline" color="white">
          <mat-label class="text-white">Rechercher</mat-label>
          <input matInput type="text" formControlName="search" [(ngModel)]="value" (input)="searchBar()">
          <button *ngIf="formSearch.value.search" class="d-inline-block" matSuffix mat-icon-button aria-label="Clear" (click)="value = ''; search= null">
            <mat-icon>close</mat-icon>
          </button>
          <button  matSuffix mat-icon-button aria-label="search" class="d-inline-block" (click)="searchBar()">
            <mat-icon class="text-white">search</mat-icon>
          </button>

        </mat-form-field>

      <!--                <button class="btn btn-outline-success my-2 my-sm-0" type="submit" (click)="searchBar()">Search</button>-->

      <!--    <ul *ngIf="search != null" class="search_suggestion">
              <li *ngFor="let detailSearch of search">
                  <div class="row">
                      <div class="col-4">
                          <img src="http://127.0.0.1:8000/images/{{detailSearch.image[0]}}" class="img-fluid" alt="image manga">
                      </div>
                      <div class="col-8">
                          <h3> {{detailSearch.name}}</h3>
                          <p>{{detailSearch.presentation.substring(0,115)}}</p>
                      </div>
                  </div>
              </li>
          </ul>-->

      <div class="list-group search_suggestion marginLeftByScreen"  *ngIf="searchDataActive" >
        <a href="#" *ngFor="let detailSearch of search" class="d-flex list-group-item list-group-item-action flex-column align-items-start" [routerLink]="['/manga-detail', detailSearch.id]">
          <div class="d-flex">
            <img src="http://127.0.0.1:8000/images/{{detailSearch.image[0]}}" class="img-fluid" alt="image manga">
            <div class="d-flex flex-column  mx-2">
              <h2 class="mb-1 text-center">{{detailSearch.name}} <small>( {{detailSearch.type}} )</small></h2>
              <p>{{detailSearch.presentation.substring(0,115)}} [...]</p>
            </div>
          </div>
        </a>
      </div>
      <div class="list-group search_suggestion"  *ngIf="searchDataActive == false" >
        <a href="#" class="d-flex list-group-item list-group-item-action flex-column align-items-start">
          <div class="d-flex">
            <h2>Aucun Résultat</h2>
          </div>
        </a>
      </div>
    </form>
  </links>
  <!-- Collapsible content -->

</mdb-navbar>
<!--/.Navbar-->
<header style="background-image: url('http://127.0.0.1:8000/header/toji-no-miko-anime.jpg')" class="d-none d-md-block">
  <div class="d-flex align-items-center justify-content-center h-100">
    <h1 class="text-center text-primary"><strong>Votre site présentant les mangas et animes </strong></h1>
  </div>
</header>
